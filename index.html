<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday, Chinmayi üéÇ</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#fff7fb;
      --card:#ffeef7;
      --accent:#ff6fa8;
      --accent2:#ffd86b;
      --muted:#a07f9e;
    }
    *{box-sizing:border-box;font-family:Montserrat,system-ui,Arial,sans-serif}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#fff2fa 0%,#ffe8f5 60%);color:#704b63}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
    .card{width:100%;max-width:980px;background:linear-gradient(180deg,#ffeef7,#fff7fb);border-radius:18px;padding:28px;box-shadow:0 8px 40px rgba(2,6,23,0.06);position:relative;overflow:hidden}
    header{display:flex;gap:18px;align-items:center}
    .avatar{width:110px;height:110px;border-radius:14px;overflow:hidden;flex:0 0 110px;border:3px solid rgba(255,255,255,0.06)}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    h1{margin:0;font-size:28px}
    .subtitle{color:var(--muted);margin-top:6px}
    .hero{display:grid;grid-template-columns:1fr;gap:22px;margin-top:18px;align-items:start}
    .panel{background:#fff3f9;padding:18px;border-radius:12px}
    .message{margin-top:12px;font-size:15px;line-height:1.45;color:#6a4760}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent),#ff8a8a);color:white;text-decoration:none;font-weight:700;margin-top:12px;box-shadow:0 6px 18px rgba(255,107,107,0.12);cursor:pointer;border:0}
    .footer{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-top:18px}
    .confetti{pointer-events:none;position:absolute;inset:0;z-index:10}
    @media(max-width:880px){.hero{grid-template-columns:1fr;}.avatar{width:88px;height:88px}.card{padding:18px}}

    /* handwritten headings */
    h1,h2{font-family:'Dancing Script', 'Montserrat', system-ui, Arial, sans-serif}

    /* falling hearts */
    .hearts{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:9}
    .heart{position:absolute;width:18px;height:18px;background:linear-gradient(135deg,var(--accent),#ffd6e8);transform:rotate(-45deg);}
    .heart:before,.heart:after{content:'';position:absolute;width:18px;height:18px;background:inherit;border-radius:50%}
    .heart:before{top:-9px;left:0}
    .heart:after{left:9px;top:0}
    @keyframes floatUp{0%{transform:translateY(0) rotate(-45deg) scale(1);opacity:1}100%{transform:translateY(-120vh) rotate(-45deg) scale(1.6);opacity:0}}

    /* play button */
    #playBtn{position:fixed;right:18px;bottom:18px;background:linear-gradient(90deg,var(--accent),#ff8a8a);border:none;color:white;padding:12px 14px;border-radius:999px;font-weight:700;cursor:pointer;box-shadow:0 8px 30px rgba(255,107,107,0.18);display:none;z-index:60}

    /* modal styles improved */
    #modal{display:none}
    #modal .dialog{max-width:620px;width:94%;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">
      <canvas class="confetti" id="confetti"></canvas>

      <header>
        <div class="avatar"><img id="heroImg" src="chinmayi.jpg" alt="Chinmayi"></div>
        <div>
          <h1>Happy Birthday, <span id="name">Chinuu !</span> üéâ</h1>
          <div class="subtitle">A small surprise from someone who loves you ‚ù§Ô∏è</div>
        </div>
      </header>

      <!-- Main content -->
      <div class="panel">
        <h2 style="font-size:22px;margin:0 0 8px">To my love</h2>
        <p class="message">Welcome ‚Äî I made this for you. Click the button below to read my message. ‚ú®</p>

        <!-- Play Music button moved here -->
        <div style="margin-top:12px;text-align:center">
          <button class="btn" id="playBtn" style="display:block; margin-bottom:12px;">Play music ‚ñ∂</button>
        </div>

        <div style="margin-top:18px;text-align:center">
          <button class="btn" id="openSurpriseMain">Open Surprise</button>
        </div>
      </div>

      <div class="footer">
        <div class="muted">Made for <strong id="footerName">Mayuu</strong></div>
        <button id="shareBtn" aria-label="Share" style="background:transparent;border:0;cursor:pointer;font-size:22px;color:var(--accent);">üîó</button>
      </div>

    </div>
  </div>

  <!-- Hidden audio: paste your MP3 file name (same folder) -->
  <audio id="song" style="display:none">
    <source id="songSrc" src="audio.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- Surprise modal -->
  <div id="modal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);z-index:50">
    <div class="dialog" style="background:linear-gradient(180deg,#081226,#0d1526);padding:28px;border-radius:14px;box-shadow:0 10px 50px rgba(2,6,23,0.8);color:#eef8ff;text-align:center">
      <h2 style="margin:0 0 8px">For you, my love ‚ù§Ô∏è</h2>
      <p id="surpriseText" style="margin:0 0 12px;color:var(--muted)">Hellooo my beautiful girl ‚ù§Ô∏è<br><br>Another year, another chance for me to celebrate the most precious part of my life ‚Äî <strong>YOU</strong>. From the first moment I saw you till today, you‚Äôve only pulled me deeper and deeper into this crazy, magical love. Sometimes I still replay that first look‚Ä¶ those eyes‚Ä¶ it‚Äôs like destiny paused for a second and whispered, ‚ÄúThis is the one for you.‚Äù And it was right.<br><br>Being loved by you feels unreal at times‚Ä¶ like I‚Äôm living a dream I never want to wake up from. You make me feel stronger, happier, and more alive than I ever knew I could be. Every little thing you do ‚Äî your laugh, your softness, your cuteness, your caring heart ‚Äî it all makes my world brighter. With you, even the ordinary moments become my favourite memories.<br><br>You made me believe in forever, in fate, in the kind of love people write about but rarely find. And I promise you, <strong>Chinuu</strong>, I‚Äôll spend my whole life giving you the love, peace, and happiness you deserve. I‚Äôll stand by you, grow with you, and love you in every version of you today, tomorrow, and every birthday after this.<br><br><strong>HAPPY BIRTHDAY, MY LOVE</strong><br><br>Yours,<br>R‚ù§Ô∏è</p>
      <div style="margin-top:12px"><button class="btn" id="closeModal">Close</button></div>
    </div>
  </div>

  <button id="playBtn">Play music ‚ñ∂</button>

  <script>
  (function(){
    'use strict';

    function $(id){ return document.getElementById(id); }

    document.addEventListener('DOMContentLoaded', function(){
      var openBtn = $('openSurpriseMain');
      var modal = $('modal');
      var closeModal = $('closeModal');
      var nameEl = $('name');
      var footerName = $('footerName');
      var shareBtn = $('shareBtn');
      var songEl = $('song');
      var playBtn = $('playBtn');

      // Open / close modal: also try to play music when opening
      if(openBtn && modal){
        openBtn.addEventListener('click', function(){
          modal.style.display = 'flex';
          // attempt to play on user gesture
          if(songEl){ songEl.muted = false; songEl.play().catch(function(){ if(playBtn) playBtn.style.display = 'block'; }); }
        });
      }

      // close modal by button
      if(closeModal && modal){ closeModal.addEventListener('click', function(){ modal.style.display = 'none'; }); }
      // close modal by clicking outside dialog
      if(modal){ modal.addEventListener('click', function(e){ if(e.target === modal) modal.style.display = 'none'; }); }

      // Double-click name to edit
      if(nameEl){ nameEl.addEventListener('dblclick', function(){ var n = prompt('New name', nameEl.textContent); if(n){ nameEl.textContent = n; if(footerName) footerName.textContent = n; } }); }

      // Share button: native share on mobile, clipboard on desktop with fallbacks
      if(shareBtn){
        shareBtn.addEventListener('click', function(){
          var url = window.location.href.split('#')[0];
          if(navigator.share){
            navigator.share({ title: document.title, text: 'A little surprise for ' + (nameEl?nameEl.textContent:'someone'), url: url }).catch(function(){});
            return;
          }
          // try clipboard API
          if(navigator.clipboard && navigator.clipboard.writeText){
            navigator.clipboard.writeText(url).then(function(){ var prev = shareBtn.innerHTML; shareBtn.textContent = 'Copied!'; setTimeout(function(){ shareBtn.innerHTML = prev; }, 1500); }).catch(function(){ fallbackCopy(url); });
            return;
          }
          fallbackCopy(url);
        });
      }

      function fallbackCopy(url){ try{ var ta = document.createElement('textarea'); ta.value = url; ta.style.position='fixed'; ta.style.left='-9999px'; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); document.body.removeChild(ta); var prev2 = shareBtn.innerHTML; shareBtn.textContent = 'Copied!'; setTimeout(function(){ shareBtn.innerHTML = prev2; }, 1500); }catch(e){ prompt('Copy this link', url); } }

      // Attempt autoplay now; if blocked, show play button
      if(songEl){
        try{
          songEl.muted = false;
          var p = songEl.play();
          if(p && typeof p.catch === 'function'){
            p.then(function(){ if(playBtn) playBtn.style.display = 'none'; }).catch(function(){ if(playBtn) playBtn.style.display = 'block'; });
          }
        }catch(e){ if(playBtn) playBtn.style.display = 'block'; }
      } else { if(playBtn) playBtn.style.display = 'block'; }

      if(playBtn){
        playBtn.addEventListener('click', function(){ if(songEl){ songEl.muted = false; songEl.play().catch(function(){}); } playBtn.style.display = 'none'; });
      }

      // Hearts animation
      (function(){ try{ var heartsContainer = document.createElement('div'); heartsContainer.className = 'hearts'; var card = $('card'); if(card) card.appendChild(heartsContainer); function createHeart(){ var h = document.createElement('div'); h.className = 'heart'; var size = 12 + Math.random()*18; h.style.width = size + 'px'; h.style.height = size + 'px'; h.style.left = Math.random()*100 + '%'; h.style.opacity = 0.7 + Math.random()*0.4; var dur = 3500 + Math.random()*2500; h.style.animation = 'floatUp ' + dur + 'ms linear forwards'; heartsContainer.appendChild(h); setTimeout(function(){ if(heartsContainer.contains(h)) heartsContainer.removeChild(h); }, dur + 50); } setInterval(function(){ if(Math.random() < 0.6) createHeart(); }, 350); }catch(e){} })();

      // Confetti animation
      (function(){ try{ var canvas = $('confetti'); if(!canvas) return; var ctx = canvas.getContext('2d'); var W,H,pieces=[]; function reset(){ W = canvas.width = canvas.offsetWidth; H = canvas.height = canvas.offsetHeight; pieces = []; for(var i=0;i<80;i++) pieces.push(newPiece()); } function newPiece(){ return {x:Math.random()*W,y:Math.random()*-H,vy:1+Math.random()*3,vx:(Math.random()-0.5)*2,r:2+Math.random()*6,c:['#ff6fa8','#ffd86b','#ffd6e8','#fff3f9'][Math.floor(Math.random()*4)],rot:Math.random()*360,vr:(Math.random()-0.5)*6}; } function draw(){ ctx.clearRect(0,0,W,H); for(var j=0;j<pieces.length;j++){ var p = pieces[j]; p.x+=p.vx; p.y+=p.vy; p.rot+=p.vr; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180); ctx.fillStyle = p.c; ctx.fillRect(-4,-2,8,4); ctx.restore(); if(p.y>H+20){ pieces[j] = newPiece(); pieces[j].y = -20; } } requestAnimationFrame(draw); } window.addEventListener('resize', reset); reset(); draw(); }catch(e){} })();

    });
  }());
  </script>
</body>
</html>
